Story 1.2: 实现相机UI界面
Status
Approved

Story
作为一个 用户， 我想要 在应用中看到一个实时的相机取景画面和一个醒目的拍照按钮， 以便于 我能轻松地对准我想识别的物品。

Acceptance Criteria
应用的主页面 (/app/page.tsx) 全屏显示来自设备后置摄像头的实时视频流。

在第一次打开应用或权限未被授予时，浏览器必须弹出请求摄像头权限的提示。在用户授权之前，不应显示视频流，而应显示一个友好的提示信息。

界面底部中央有一个大的、圆形的、符合迪士尼卡通风格的拍照按钮 (CaptureButton 组件)。

该界面在主流手机浏览器（iOS Safari, Android Chrome）上能正确显示，没有明显的布局错乱。

（此阶段）点击拍照按钮暂时没有任何功能或视觉反馈（将在 Story 1.4 中实现）。

Tasks / Subtasks
[ ] Task 1: 请求并处理摄像头权限 (AC: 2)

[ ] 创建一个新的 React Hook src/hooks/use-camera.ts 用于封装获取摄像头权限和视频流的逻辑。

[ ] 在 use-camera.ts 中，使用 navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' } }) 来请求后置摄像头。

[ ] 处理权限被授予、被拒绝以及出错的情况，并通过 Hook 返回相应的状态（例如 permissionState: 'prompt' | 'granted' | 'denied', stream: MediaStream | null, error: string | null）。

[ ] Task 2: 在主页面中使用相机 Hook (AC: 1, 2)

[ ] 在 /app/page.tsx 组件中调用 useCamera Hook。

[ ] 根据 Hook 返回的 permissionState 显示不同的内容：

'prompt'/'denied': 显示一个友好的提示信息和（可选的）请求权限按钮。

'granted': 显示 <video> 元素。

[ ] 当 stream 可用时，将其附加到 <video> 元素的 srcObject 属性上，并设置 autoPlay, playsInline, muted 属性。

[ ] Task 3: 实现相机视频流的全屏显示 (AC: 1, 4)

[ ] 使用 Tailwind CSS 确保 <video> 元素覆盖整个屏幕背景。

[ ] 确保视频流保持正确的纵横比并填充屏幕（可能需要 object-fit: cover;）。

[ ] Task 4: 创建并集成拍照按钮组件 (AC: 3, 4)

[ ] 创建 src/components/capture-button.tsx 组件。

[ ] 根据 UI/UX 规格书中的描述和风格指南（迪士尼卡通风格、大圆形、呼吸动画），使用 Tailwind CSS 和 Framer Motion 实现按钮的视觉样式和默认状态下的“呼吸”动画。

[ ] 将 CaptureButton 组件放置在 /app/page.tsx 屏幕的底部中央。

[ ] 确保按钮在视频流之上可见。

[ ] Task 5: 手动测试 (AC: 1, 2, 3, 4)

[ ] 在本地开发服务器上，通过手机浏览器访问应用。

[ ] 验证摄像头权限请求是否按预期弹出。

[ ] 验证授权后视频流是否正常显示并全屏。

[ ] 验证拍照按钮是否按设计显示在底部中央并有呼吸动画。

[ ] 验证在不同尺寸的手机屏幕上布局是否正常。

Dev Notes
核心组件:

页面: /app/page.tsx - 主相机视图。

组件: src/components/capture-button.tsx - 拍照按钮。

Hook: src/hooks/use-camera.ts - 相机逻辑封装。

[Source: Frontend Architecture Document#第三部分]

样式:

严格使用 tailwind.config.ts 中定义的主题颜色和字体 (font-sans 即 Baloo 2)。

按钮样式需符合UI/UX规格书定义的“迪士尼卡通风格”。

[Source: Frontend Architecture Document#第八部分, UI/UX Specification#第六部分]

动画:

拍照按钮的“呼吸”动画需使用 Framer Motion 实现。

动画配置参考 tailwind.config.ts 中的 animation 定义。

[Source: Frontend Architecture Document#第二部分, UI/UX Specification#第九部分]

浏览器 API:

使用 navigator.mediaDevices.getUserMedia API 请求摄像头。

务必处理好权限请求的各种状态（prompt, granted, denied）。

在 <video> 元素上使用 playsInline 和 muted 属性以确保在移动浏览器（尤其是iOS）上能自动播放。

[Source: MDN Web Docs]

测试要求:

本故事的核心是通过手动测试验证UI和相机功能。

可选：为 useCamera Hook 编写基础的单元测试来模拟权限状态。
